// myprofile/components/Layout/Sidebar.jsx
"use client";

import React from 'react';
import Link from 'next/link'; // 1. Import the Link component
// Import usePathname for checking the active route
import { usePathname } from 'next/navigation';

const navItems = [
    {
        name: "Dashboard",
        path: "/myprofile",
        icon: <svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" viewBox="0 0 15 15" fill="none">
            <path fillRule="evenodd" clipRule="evenodd" d="M2.11875 6.75H4.65375C4.7445 6.75 4.89375 6.75 5.03025 6.762C5.199 6.777 5.487 6.819 5.7915 6.98925C6.09332 7.15824 6.34251 7.40743 6.5115 7.70925C6.681 8.013 6.723 8.301 6.738 8.46975C6.75075 8.607 6.75 8.7555 6.75 8.84625V12.9037C6.75 12.9945 6.75 13.1438 6.738 13.2803C6.723 13.449 6.68175 13.737 6.51075 14.0415C6.34176 14.3433 6.09257 14.5925 5.79075 14.7615C5.55631 14.8904 5.29701 14.9676 5.03025 14.988C4.893 15 4.7445 15 4.65375 15H2.09625C2.00625 15 1.85625 15 1.71975 14.988C1.45294 14.9674 1.19363 14.8899 0.95925 14.7607C0.65743 14.5918 0.408241 14.3426 0.23925 14.0408C0.110097 13.8064 0.0326113 13.5471 0.012 13.2803C2.37487e-08 13.143 0 12.9945 0 12.9037V8.84625C0 8.75625 2.37487e-08 8.60625 0.012 8.46975C0.027 8.301 0.069 8.013 0.23925 7.70925C0.408241 7.40743 0.65743 7.15824 0.95925 6.98925C1.19363 6.8601 1.45294 6.78261 1.71975 6.762C1.857 6.75 2.0055 6.75 2.09625 6.75H2.11875ZM1.548 8.442C1.5 8.5275 1.5 8.64 1.5 8.8695V12.882C1.5 13.1093 1.5 13.2232 1.548 13.308C1.5818 13.3684 1.63164 13.4182 1.692 13.452C1.7775 13.5 1.89075 13.5 2.11875 13.5H4.63125C4.85925 13.5 4.97325 13.5 5.05875 13.452C5.11884 13.4181 5.16841 13.3683 5.202 13.308C5.25 13.2232 5.25 13.11 5.25 12.8812V8.86875C5.25 8.64075 5.25 8.5275 5.202 8.44125C5.16809 8.38116 5.11826 8.33159 5.058 8.298C4.97325 8.25 4.86 8.25 4.63125 8.25H2.11875C1.89075 8.25 1.7775 8.25 1.69125 8.298C1.63116 8.33191 1.58159 8.38174 1.548 8.442ZM2.11875 0H4.65375C4.7445 0 4.89375 2.37487e-08 5.03025 0.012C5.199 0.027 5.487 0.069 5.7915 0.23925C6.09332 0.408241 6.34251 0.65743 6.5115 0.95925C6.681 1.263 6.723 1.551 6.738 1.71975C6.75075 1.857 6.75 2.0055 6.75 2.09625V3.90375C6.75 3.9945 6.75 4.14375 6.738 4.28025C6.723 4.449 6.68175 4.737 6.51075 5.0415C6.34176 5.34332 6.09257 5.59251 5.79075 5.7615C5.55631 5.89039 5.29701 5.96762 5.03025 5.988C4.893 6.00075 4.7445 6 4.65375 6H2.09625C2.00625 6 1.85625 6 1.71975 5.988C1.45294 5.96739 1.19363 5.8899 0.95925 5.76075C0.65743 5.59176 0.408241 5.34257 0.23925 5.04075C0.110097 4.80637 0.0326113 4.54706 0.012 4.28025C2.37487e-08 4.143 0 3.9945 0 3.90375V2.09625C0 2.00625 2.37487e-08 1.85625 0.012 1.71975C0.027 1.551 0.069 1.263 0.23925 0.95925C0.408241 0.65743 0.65743 0.408241 0.95925 0.23925C1.19363 0.110097 1.45294 0.0326113 1.71975 0.012C1.857 2.37487e-08 2.0055 0 2.09625 0H2.11875ZM1.548 1.692C1.5 1.7775 1.5 1.89 1.5 2.11875V3.88125C1.5 4.10925 1.5 4.22325 1.548 4.30875C1.58191 4.36884 1.63174 4.41841 1.692 4.452C1.7775 4.5 1.89 4.5 2.11875 4.5H4.63125C4.85925 4.5 4.97325 4.5 5.05875 4.452C5.11884 4.41809 5.16841 4.36826 5.202 4.308C5.25 4.22325 5.25 4.11 5.25 3.88125V2.11875C5.25 1.89075 5.25 1.7775 5.202 1.69125C5.16809 1.63116 5.11826 1.58159 5.058 1.548C4.97325 1.5 4.86 1.5 4.63125 1.5H2.11875C1.89075 1.5 1.7775 1.5 1.69125 1.548C1.63116 1.58191 1.58159 1.63174 1.548 1.692ZM10.3687 8.25H12.9037C12.9945 8.25 13.1438 8.25 13.2803 8.238C13.449 8.223 13.737 8.18175 14.0415 8.01075C14.3433 7.84176 14.5925 7.59257 14.7615 7.29075C14.9317 6.987 14.973 6.699 14.988 6.53025C15 6.393 15 6.2445 15 6.15375V2.09625C15 2.00625 15 1.85625 14.988 1.71975C14.9674 1.45294 14.8899 1.19363 14.7607 0.95925C14.5918 0.65743 14.3426 0.408241 14.0408 0.23925C13.8064 0.110097 13.5471 0.0326113 13.2803 0.012C13.143 2.37487e-08 12.9945 0 12.9037 0H10.3463C10.2563 0 10.1062 2.37487e-08 9.96975 0.012C9.801 0.027 9.513 0.069 9.20925 0.23925C8.90743 0.408241 8.65824 0.65743 8.48925 0.95925C8.3601 1.19363 8.28261 1.45294 8.262 1.71975C8.25 1.857 8.25 2.0055 8.25 2.09625V6.15375C8.25 6.2445 8.25 6.39375 8.262 6.53025C8.277 6.699 8.319 6.987 8.48925 7.2915C8.65824 7.59332 8.90743 7.84251 9.20925 8.0115C9.513 8.181 9.801 8.223 9.96975 8.238C10.107 8.25075 10.2555 8.25 10.3463 8.25H10.3687ZM9.798 6.558C9.75 6.4725 9.75 6.36 9.75 6.13125V2.11875C9.75 1.89075 9.75 1.7775 9.798 1.69125C9.83191 1.63116 9.88174 1.58159 9.942 1.548C10.0275 1.5 10.14 1.5 10.3695 1.5H12.882C13.1093 1.5 13.2232 1.5 13.308 1.548C13.3684 1.5818 13.4182 1.63164 13.452 1.692C13.5 1.7775 13.5 1.89075 13.5 2.11875V6.13125C13.5 6.35925 13.5 6.4725 13.452 6.55875C13.4181 6.61884 13.3683 6.66841 13.308 6.702C13.2232 6.75 13.1092 6.75 12.8812 6.75H10.3687C10.1407 6.75 10.0275 6.75 9.94125 6.702C9.88116 6.66809 9.83159 6.61826 9.798 6.558ZM10.3687 15H12.9037C12.9945 15 13.1438 15 13.2803 14.988C13.449 14.973 13.737 14.931 14.0415 14.7607C14.3433 14.5918 14.5925 14.3426 14.7615 14.0408C14.9317 13.737 14.973 13.449 14.988 13.2803C15 13.143 15 12.9945 15 12.9037V11.0963C15 11.0063 15 10.8562 14.988 10.7197C14.9674 10.4529 14.8899 10.1936 14.7607 9.95925C14.5918 9.65743 14.3426 9.40824 14.0408 9.23925C13.8064 9.1101 13.5471 9.03261 13.2803 9.012C13.143 9 12.9945 9 12.9037 9H10.3463C10.2563 9 10.1062 9 9.96975 9.012C9.801 9.027 9.513 9.069 9.20925 9.23925C8.90743 9.40824 8.65824 9.65743 8.48925 9.95925C8.3601 10.1936 8.28261 10.4529 8.262 10.7197C8.25 10.857 8.25 11.0055 8.25 11.0963V12.9037C8.25 12.9945 8.25 13.1438 8.262 13.2803C8.277 13.449 8.319 13.737 8.48925 14.0415C8.65824 14.3433 8.90743 14.5925 9.20925 14.7615C9.513 14.9317 9.801 14.973 9.96975 14.988C10.107 15 10.2555 15 10.3463 15H10.3687ZM9.798 13.308C9.75 13.2232 9.75 13.11 9.75 12.8812V11.1188C9.75 10.8908 9.75 10.7775 9.798 10.6912C9.83191 10.6312 9.88174 10.5816 9.942 10.548C10.0275 10.5 10.1407 10.5 10.3695 10.5H12.882C13.1093 10.5 13.2232 10.5 13.308 10.548C13.368 10.5817 13.4183 10.6313 13.452 10.692C13.5 10.7775 13.5 10.8907 13.5 11.1195V12.882C13.5 13.1093 13.5 13.2232 13.452 13.308C13.4182 13.3684 13.3684 13.4182 13.308 13.452C13.2232 13.5 13.1092 13.5 12.8812 13.5H10.3687C10.1407 13.5 10.0275 13.5 9.94125 13.452C9.88116 13.4181 9.83159 13.3683 9.798 13.308Z" fill="#D4AF37" />
        </svg>,
    },
    {
        name: "Profile",
        path: "/myprofile/profile",
        icon: <svg xmlns="http://www.w3.org/2000/svg" width="19" height="19" viewBox="0 0 19 19" fill="none">
            <path fillRule="evenodd" clipRule="evenodd" d="M12.5002 6.66668C12.5002 7.55073 12.149 8.39858 11.5239 9.0237C10.8987 9.64882 10.0509 10 9.16683 10C8.28277 10 7.43493 9.64882 6.80981 9.0237C6.18469 8.39858 5.8335 7.55073 5.8335 6.66668C5.8335 5.78262 6.18469 4.93478 6.80981 4.30965C7.43493 3.68453 8.28277 3.33334 9.16683 3.33334C10.0509 3.33334 10.8987 3.68453 11.5239 4.30965C12.149 4.93478 12.5002 5.78262 12.5002 6.66668ZM10.8335 6.66668C10.8335 7.1087 10.6579 7.53263 10.3453 7.84519C10.0328 8.15775 9.60886 8.33334 9.16683 8.33334C8.7248 8.33334 8.30088 8.15775 7.98832 7.84519C7.67576 7.53263 7.50016 7.1087 7.50016 6.66668C7.50016 6.22465 7.67576 5.80073 7.98832 5.48817C8.30088 5.1756 8.7248 5.00001 9.16683 5.00001C9.60886 5.00001 10.0328 5.1756 10.3453 5.48817C10.6579 5.80073 10.8335 6.22465 10.8335 6.66668Z" fill="black" />
            <path fillRule="evenodd" clipRule="evenodd" d="M9.16667 0C4.10417 0 0 4.10417 0 9.16667C0 14.2292 4.10417 18.3333 9.16667 18.3333C14.2292 18.3333 18.3333 14.2292 18.3333 9.16667C18.3333 4.10417 14.2292 0 9.16667 0ZM1.66667 9.16667C1.66667 10.9083 2.26083 12.5117 3.25667 13.785C3.9562 12.8668 4.85846 12.1226 5.89303 11.6106C6.9276 11.0986 8.0665 10.8326 9.22083 10.8333C10.3603 10.832 11.4851 11.0909 12.5093 11.5903C13.5335 12.0897 14.4301 12.8164 15.1308 13.715C15.8529 12.768 16.339 11.6627 16.5491 10.4905C16.7591 9.3183 16.687 8.11295 16.3387 6.97415C15.9905 5.83536 15.376 4.79587 14.5462 3.9417C13.7165 3.08752 12.6952 2.44322 11.567 2.06209C10.4388 1.68097 9.236 1.57398 8.05822 1.74998C6.88043 1.92598 5.76149 2.37991 4.79397 3.07421C3.82646 3.76851 3.03818 4.68323 2.49436 5.74266C1.95054 6.8021 1.66682 7.97581 1.66667 9.16667ZM9.16667 16.6667C7.44492 16.6695 5.77512 16.0771 4.44 14.99C4.97734 14.2205 5.69266 13.5923 6.52506 13.1587C7.35746 12.7252 8.2823 12.4992 9.22083 12.5C10.1476 12.4992 11.0613 12.7195 11.8858 13.1428C12.7104 13.566 13.422 14.1798 13.9617 14.9333C12.6162 16.0558 10.9189 16.6694 9.16667 16.6667Z" fill="black" />
        </svg>,
    },
    {
        name: "Interests",
        path: "/myprofile/interests",
        icon: <svg xmlns="http://www.w3.org/2000/svg" width="18" height="17" viewBox="0 0 18 17" fill="none">
            <path d="M0 7.875L4.375 0L8.75 7.875H0ZM4.375 16.625C3.4125 16.625 2.58854 16.2823 1.90313 15.5969C1.21771 14.9115 0.875 14.0875 0.875 13.125C0.875 12.1479 1.21771 11.3202 1.90313 10.6417C2.58854 9.96333 3.4125 9.62442 4.375 9.625C5.3375 9.62558 6.16146 9.96829 6.84687 10.6531C7.53229 11.338 7.875 12.1619 7.875 13.125C7.875 14.0881 7.53229 14.912 6.84687 15.5969C6.16146 16.2817 5.3375 16.6244 4.375 16.625ZM4.375 14.875C4.85625 14.875 5.26808 14.7038 5.6105 14.3614C5.95292 14.019 6.12442 13.6068 6.125 13.125C6.12558 12.6432 5.95438 12.2313 5.61137 11.8895C5.26837 11.5477 4.85625 11.3762 4.375 11.375C3.89375 11.3738 3.48192 11.5453 3.1395 11.8895C2.79708 12.2337 2.62558 12.6455 2.625 13.125C2.62442 13.6045 2.79592 14.0166 3.1395 14.3614C3.48308 14.7061 3.89492 14.8773 4.375 14.875ZM2.975 6.125H5.775L4.375 3.60938L2.975 6.125ZM9.625 16.625V9.625H16.625V16.625H9.625ZM11.375 14.875H14.875V11.375H11.375V14.875ZM13.125 7.875C12.2937 7.175 11.5975 6.58438 11.0364 6.10313C10.4752 5.62188 10.0266 5.19896 9.69063 4.83437C9.35462 4.46979 9.114 4.12708 8.96875 3.80625C8.8235 3.48542 8.75058 3.14271 8.75 2.77813C8.75 2.12188 8.97983 1.56771 9.4395 1.11563C9.89917 0.663542 10.4714 0.4375 11.1562 0.4375C11.55 0.4375 11.9184 0.528792 12.2614 0.711375C12.6044 0.893958 12.8923 1.14538 13.125 1.46562C13.3583 1.14479 13.6465 0.893375 13.9895 0.711375C14.3325 0.529375 14.7006 0.438083 15.0938 0.4375C15.7792 0.4375 16.3517 0.663542 16.8114 1.11563C17.271 1.56771 17.5006 2.12188 17.5 2.77813C17.5 3.14271 17.4271 3.48542 17.2812 3.80625C17.1354 4.12708 16.8948 4.46979 16.5594 4.83437C16.224 5.19896 15.7757 5.62188 15.2145 6.10313C14.6533 6.58438 13.9568 7.175 13.125 7.875ZM13.125 5.57812C14.175 4.70312 14.875 4.08333 15.225 3.71875C15.575 3.35417 15.75 3.05521 15.75 2.82187C15.75 2.63229 15.6955 2.47917 15.5864 2.3625C15.4773 2.24583 15.3277 2.1875 15.1375 2.1875C14.9917 2.1875 14.8493 2.22746 14.7105 2.30737C14.5717 2.38729 14.4005 2.52962 14.1969 2.73438L13.125 3.7625L12.0531 2.73438C11.849 2.53021 11.6777 2.38788 11.5395 2.30737C11.4012 2.22688 11.2589 2.18692 11.1125 2.1875C10.9229 2.1875 10.7736 2.24583 10.6645 2.3625C10.5554 2.47917 10.5006 2.63229 10.5 2.82187C10.5 3.05521 10.675 3.35417 11.025 3.71875C11.375 4.08333 12.075 4.70312 13.125 5.57812Z" fill="black" />
        </svg>,
    },
    {
        name: "Chat list",
        path: "/myprofile/chatlist",
        icon: <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 18 18" fill="none">
            <path d="M1 9C1 6.87827 1.84285 4.84344 3.34315 3.34315C4.84344 1.84285 6.87827 1 9 1C11.1217 1 13.1566 1.84285 14.6569 3.34315C16.1571 4.84344 17 6.87827 17 9V14.09C17 14.938 17 15.36 16.874 15.699C16.7738 15.9676 16.617 16.2116 16.4143 16.4143C16.2116 16.617 15.9676 16.7738 15.699 16.874C15.36 17 14.937 17 14.09 17H9C6.87827 17 4.84344 16.1571 3.34315 14.6569C1.84285 13.1566 1 11.1217 1 9Z" stroke="black" strokeWidth="2" />
            <path d="M6 8H12M9 12H12" stroke="black" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" />
        </svg>,
    },
    {
        name: "Shortlist",
        path: "/myprofile/shortlist",
        icon: <svg xmlns="http://www.w3.org/2000/svg" width="18" height="11" viewBox="0 0 18 11" fill="none">
            <path d="M11.9167 8.66667C12.8194 8.66667 13.5868 8.35069 14.2187 7.71875C14.8507 7.0868 15.1667 6.31944 15.1667 5.41667C15.1667 4.51389 14.8507 3.74653 14.2187 3.11458C13.5868 2.48264 12.8194 2.16667 11.9167 2.16667C11.0139 2.16667 10.2465 2.48264 9.61458 3.11458C8.98264 3.74653 8.66667 4.51389 8.66667 5.41667C8.66667 6.31944 8.98264 7.0868 9.61458 7.71875C10.2465 8.35069 11.0139 8.66667 11.9167 8.66667ZM11.9167 10.8333C10.6167 10.8333 9.47014 10.4271 8.47708 9.61458C7.48403 8.80208 6.86111 7.76389 6.60833 6.5H2.16667V4.33333H6.60833C6.69861 3.93611 6.82067 3.55261 6.9745 3.18283C7.12833 2.81306 7.33128 2.47433 7.58333 2.16667H0V0H11.9167C13.4153 0 14.6929 0.528306 15.7495 1.58492C16.8061 2.64153 17.3341 3.91878 17.3333 5.41667C17.3326 6.91456 16.8043 8.19217 15.7484 9.2495C14.6925 10.3068 13.4153 10.8348 11.9167 10.8333Z" fill="black" />
        </svg>,
    },
    {
        name: "Plan",
        path: "/myprofile/plan",
        icon: <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 18 18" fill="none">
            <path d="M1 6.83333H16.8333M1 6.83333V16C1 16.221 1.0878 16.433 1.24408 16.5893C1.40036 16.7455 1.61232 16.8333 1.83333 16.8333H16C16.221 16.8333 16.433 16.7455 16.5893 16.5893C16.7455 16.433 16.8333 16.221 16.8333 16V6.83333M1 6.83333V3.08333C1 2.86232 1.0878 2.65036 1.24408 2.49408C1.40036 2.3378 1.61232 2.25 1.83333 2.25H16C16.221 2.25 16.433 2.3378 16.5893 2.49408C16.7455 2.65036 16.8333 2.86232 16.8333 3.08333V6.83333" stroke="black" strokeWidth="2" strokeLinejoin="round" />
            <path d="M5.5835 11.8333L8.0835 14.3333L13.0835 9.33331" stroke="black" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" />
            <path d="M5.5835 1V4.33333M12.2502 1V4.33333" stroke="black" strokeWidth="2" strokeLinecap="round" />
        </svg>,
    },
    {
        name: "Notification",
        path: "/myprofile/notification",
        icon: <svg xmlns="http://www.w3.org/2000/svg" width="17" height="21" viewBox="0 0 17 21" fill="none">
            <path d="M1.83333 15.3333H14.6667V8.65471C14.6667 4.9335 11.7938 1.91667 8.25 1.91667C4.70617 1.91667 1.83333 4.9335 1.83333 8.65471V15.3333ZM8.25 0C12.8058 0 16.5 3.87454 16.5 8.65471V17.25H0V8.65471C0 3.87454 3.69417 0 8.25 0ZM5.95833 18.2083H10.5417C10.5417 18.8437 10.3002 19.4531 9.87045 19.9024C9.44068 20.3517 8.85779 20.6042 8.25 20.6042C7.64221 20.6042 7.05932 20.3517 6.62955 19.9024C6.19978 19.4531 5.95833 18.8437 5.95833 18.2083Z" fill="black" />
        </svg>,
    },
    {
        name: "Setting",
        path: "/myprofile/setting",
        icon: <svg xmlns="http://www.w3.org/2000/svg" width="17" height="17" viewBox="0 0 17 17" fill="none">
            <path d="M15.0362 8.88447C14.9026 8.73239 14.8289 8.53689 14.8289 8.33447C14.8289 8.13204 14.9026 7.93654 15.0362 7.78447L16.1029 6.58447C16.2204 6.45336 16.2934 6.28839 16.3114 6.11322C16.3293 5.93806 16.2914 5.76171 16.2029 5.60947L14.5362 2.72613C14.4486 2.57407 14.3153 2.45353 14.1552 2.38171C13.9951 2.30988 13.8164 2.29043 13.6445 2.32613L12.0779 2.6428C11.8785 2.68399 11.671 2.65079 11.4944 2.54947C11.3179 2.44814 11.1845 2.2857 11.1195 2.0928L10.6112 0.5678C10.5553 0.402283 10.4488 0.258521 10.3067 0.156835C10.1647 0.0551491 9.99425 0.00068233 9.81954 0.0011333H6.48621C6.30449 -0.00835173 6.12465 0.0419053 5.97418 0.144228C5.8237 0.246551 5.71086 0.395316 5.65288 0.5678L5.18621 2.0928C5.12121 2.2857 4.98785 2.44814 4.8113 2.54947C4.63475 2.65079 4.42722 2.68399 4.22788 2.6428L2.61954 2.32613C2.45667 2.30312 2.29063 2.32882 2.14233 2.4C1.99404 2.47118 1.87013 2.58466 1.78621 2.72613L0.119542 5.60947C0.0288425 5.76001 -0.0119391 5.93537 0.00302795 6.11049C0.017995 6.2856 0.0879444 6.4515 0.202876 6.58447L1.26121 7.78447C1.39481 7.93654 1.46849 8.13204 1.46849 8.33447C1.46849 8.53689 1.39481 8.73239 1.26121 8.88447L0.202876 10.0845C0.0879444 10.2174 0.017995 10.3833 0.00302795 10.5584C-0.0119391 10.7336 0.0288425 10.9089 0.119542 11.0595L1.78621 13.9428C1.87379 14.0949 2.00714 14.2154 2.16725 14.2872C2.32736 14.3591 2.50606 14.3785 2.67788 14.3428L4.24454 14.0261C4.44389 13.9849 4.65142 14.0181 4.82797 14.1195C5.00452 14.2208 5.13788 14.3832 5.20288 14.5761L5.71121 16.1011C5.76919 16.2736 5.88204 16.4224 6.03251 16.5247C6.18299 16.627 6.36282 16.6773 6.54454 16.6678H9.87788C10.0526 16.6683 10.223 16.6138 10.3651 16.5121C10.5071 16.4104 10.6136 16.2667 10.6695 16.1011L11.1779 14.5761C11.2429 14.3832 11.3762 14.2208 11.5528 14.1195C11.7293 14.0181 11.9369 13.9849 12.1362 14.0261L13.7029 14.3428C13.8747 14.3785 14.0534 14.3591 14.2135 14.2872C14.3736 14.2154 14.507 14.0949 14.5945 13.9428L16.2612 11.0595C16.3497 10.9072 16.3877 10.7309 16.3697 10.5557C16.3517 10.3805 16.2787 10.2156 16.1612 10.0845L15.0362 8.88447ZM13.7945 10.0011L14.4612 10.7511L13.3945 12.6011L12.4112 12.4011C11.811 12.2784 11.1867 12.3804 10.6567 12.6876C10.1267 12.9949 9.728 13.486 9.53621 14.0678L9.21954 15.0011H7.08621L6.78621 14.0511C6.59442 13.4693 6.19569 12.9782 5.66571 12.671C5.13573 12.3637 4.51139 12.2618 3.91121 12.3845L2.92788 12.5845L1.84454 10.7428L2.51121 9.9928C2.92117 9.53445 3.14782 8.94108 3.14782 8.32613C3.14782 7.71119 2.92117 7.11782 2.51121 6.65947L1.84454 5.90947L2.91121 4.07613L3.89454 4.27613C4.49473 4.39882 5.11907 4.29687 5.64905 3.98963C6.17903 3.6824 6.57775 3.19127 6.76954 2.60947L7.08621 1.6678H9.21954L9.53621 2.6178C9.728 3.1996 10.1267 3.69073 10.6567 3.99797C11.1867 4.3052 11.811 4.40715 12.4112 4.28447L13.3945 4.08447L14.4612 5.93447L13.7945 6.68447C13.3892 7.14177 13.1654 7.7317 13.1654 8.3428C13.1654 8.9539 13.3892 9.54383 13.7945 10.0011ZM8.15288 5.00113C7.4936 5.00113 6.84914 5.19663 6.30097 5.5629C5.75281 5.92917 5.32557 6.44977 5.07328 7.05886C4.82098 7.66794 4.75497 8.33816 4.88359 8.98477C5.01221 9.63137 5.32968 10.2253 5.79585 10.6915C6.26203 11.1577 6.85597 11.4751 7.50257 11.6038C8.14918 11.7324 8.8194 11.6664 9.42849 11.4141C10.0376 11.1618 10.5582 10.7345 10.9244 10.1864C11.2907 9.6382 11.4862 8.99374 11.4862 8.33447C11.4862 7.45041 11.135 6.60257 10.5099 5.97744C9.88478 5.35232 9.03693 5.00113 8.15288 5.00113ZM8.15288 10.0011C7.82324 10.0011 7.50101 9.90339 7.22692 9.72025C6.95284 9.53711 6.73922 9.27682 6.61308 8.97227C6.48693 8.66773 6.45392 8.33262 6.51823 8.00932C6.58254 7.68601 6.74128 7.38904 6.97436 7.15596C7.20745 6.92287 7.50442 6.76413 7.82773 6.69982C8.15103 6.63552 8.48614 6.66852 8.79068 6.79467C9.09522 6.92081 9.35552 7.13443 9.53866 7.40852C9.72179 7.6826 9.81954 8.00483 9.81954 8.33447C9.81954 8.77649 9.64395 9.20042 9.33139 9.51298C9.01883 9.82554 8.5949 10.0011 8.15288 10.0011Z" fill="black" />
        </svg>,
    },
];

export default function Sidebar() {

    // 2. Use the Next.js usePathname hook to get the current route
    const currentPath = usePathname();

    const isActive = (path) => {
        const normalizedCurrentPath = currentPath.replace(/\/$/, '');
        const normalizedLinkPath = path.replace(/\/$/, '');

        // Dashboard is active only if it matches exactly
        if (normalizedLinkPath === '/myprofile') {
            return normalizedCurrentPath === '/myprofile';
        }

        // For all other pages, check if the current path starts with the link's path
        return normalizedCurrentPath.startsWith(normalizedLinkPath);
    };

    const handleLogout = (e) => {
        e.preventDefault();
        console.log("User logged out.");
        // Use Next.js router or a standard redirect for hard navigation like logout
        window.location.href = "/login";
    };

    return (
        <div className="sidebar-wrapper">

            {/* ... Sidebar User Card content ... */}

            <nav className="sidebar-nav">
                <ul className="nav-menu">
                    {navItems.map((item) => (
                        <li key={item.name} className="nav-item">

                            {/* 3. **CRITICAL CHANGE: Use <Link> instead of <a>** */}
                            <Link
                                href={item.path}
                                className={`nav-link ${isActive(item.path) ? 'active' : ''}`}
                            >
                                <span className="nav-icon">{item.icon}</span>
                                {item.name}
                            </Link>

                        </li>
                    ))}

                    <li className="nav-item logout-item">
                        <a
                            href="#"
                            onClick={handleLogout}
                            className="nav-link logout-link"
                        >
                            <span className="nav-icon">
                                <svg xmlns="http://www.w3.org/2000/svg" width="19" height="18" viewBox="0 0 19 18" fill="none">
                                    <path d="M16.3333 8.66667H7.22917M14.4167 11.5417L17.2917 8.66667L14.4167 5.79167M9.625 3.875V2.91667C9.625 2.40834 9.42307 1.92082 9.06362 1.56138C8.70418 1.20193 8.21666 1 7.70833 1H2.91667C2.40834 1 1.92082 1.20193 1.56138 1.56138C1.20193 1.92082 1 2.40834 1 2.91667V14.4167C1 14.925 1.20193 15.4125 1.56138 15.772C1.92082 16.1314 2.40834 16.3333 2.91667 16.3333H7.70833C8.21666 16.3333 8.70418 16.1314 9.06362 15.772C9.42307 15.4125 9.625 14.925 9.625 14.4167V13.4583" stroke="black" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" />
                                </svg>
                            </span>
                            Logout
                        </a>
                    </li>
                </ul>
            </nav>
        </div>
    );
}